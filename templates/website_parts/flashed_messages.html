{% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
        <div class="toast-container position-fixed top-0 right-0 p-3" style="z-index: 9999;">
            {% for category, message in messages %}
                <div class="toast bg-{{ category }} text-white border-0 d-flex flex-column" role="alert" aria-live="assertive" aria-atomic="true" data-delay="5000" style="min-width: 250px;">
                    <div class="toast-header bg-{{ category }} text-white mb-3">
                        {% if category == 'success' %}
                            <i class="fas fa-check-circle mr-2"></i>
                        {% elif category == 'error' %}
                            <i class="fas fa-times-circle mr-2"></i>
                        {% elif category == 'warning' %}
                            <i class="fas fa-exclamation-triangle mr-2"></i>
                        {% else %}
                            <i class="fas fa-info-circle mr-2"></i>
                        {% endif %}
                        <strong class="mr-auto">{{ _(category|capitalize) }}</strong>
                        <button type="button" class="ml-2 mb-1 close text-white" data-dismiss="toast" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="toast-body">
                        {{ message }}
                    </div>
                </div>
            {% endfor %}
        </div>
    {% endif %}
{% endwith %}

